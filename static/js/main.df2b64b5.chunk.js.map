{"version":3,"sources":["assets/logo.svg","components/LinkIcon.tsx","sections/Motivation.tsx","components/Tabbed.tsx","sections/Specification.tsx","sections/Implementation.tsx","App.tsx","serviceWorker.ts","index.tsx","components/Tabbed.module.scss"],"names":["module","exports","__webpack_require__","p","LinkIcon","react_default","a","createElement","xmlns","width","height","viewBox","className","style","margin","verticalAlign","strokeMiterlimit","textAnchor","d","fill","stroke","Motivation","id","href","Tabbed","_ref","tabs","_useState","useState","_useState2","Object","slicedToArray","i","set_i","styles","container","nav","map","tab","j","key","onClick","selected","title","content","rr","Diagram","INTERNAL_ALIGNMENT","JSXL_DIAGRAM_TABS","diagram","ComplexDiagram","NonTerminal","ZeroOrMore","Choice","Sequence","note","Skip","Optional","objectSpread","dangerouslySetInnerHTML","__html","El","attrs","class","JSON_DIAGRAM_TABS","OneOrMore","Comment","Specification","window","LJSX","CM_OPTS","mode","theme","lineNumbers","smartIndent","tabSize","indentWithTabs","INSPECT_THEME","chromeLight","BASE_BACKGROUND_COLOR","TREENODE_PADDING_LEFT","TREENODE_FONT_SIZE","usePersistedCode","createPersistedState","INITIAL_CODE","Implementation","_usePersistedCode","_usePersistedCode2","code","setCode","parsed","useMemo","value","parseValue","ast","parseAST","error","react_codemirror2","options","readOnly","onBeforeChange","editor","data","inspect","errorMsg","something","_StyledDiv","react_inspector","expandLevel","_StyledDiv2","_StyledP","_StyledPre","toString","wrap","x","Fragment","_StyledImg","alt","src","logo","_StyledH","App_StyledP","Boolean","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.df2b64b5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.7d2e3c0f.svg\";","import React from \"react\";\n\nexport default function LinkIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 192 192\"\n      className=\"LinkIcon\"\n      style={{ margin: \"0 .3rem\", verticalAlign: \"bottom\" }}\n    >\n      <g strokeMiterlimit=\"10\" textAnchor=\"none\">\n        <path\n          d=\"M130.246 29.608c-8.42.404-16.517 4.079-22.777 10.338L82.915 64.5c3.857-3.877 18.173-1.212 21.647 2.262L119.423 51.9c3.291-3.291 7.41-5.31 11.63-5.492 2.868-.142 6.927.464 10.5 4.038 3.333 3.332 4.04 7.209 4.04 9.854 0 4.422-2.02 8.824-5.493 12.277l-25.846 26.008c-6.502 6.502-16.396 7.027-22.13 1.292-3.272-3.271-8.663-3.291-11.955 0-3.291 3.291-3.291 8.662 0 11.954 5.896 5.896 13.65 8.884 21.646 8.884 8.643 0 17.467-3.533 24.231-10.338l26.008-25.846c6.603-6.583 10.338-15.387 10.338-24.231 0-8.218-3.11-16.033-8.884-21.808-6.18-6.179-14.478-9.288-23.262-8.884zM90.185 71.285c-8.643 0-17.608 3.553-24.393 10.338L39.946 107.47c-6.603 6.583-10.338 15.387-10.338 24.231 0 8.218 3.11 16.033 8.884 21.808 6.18 6.179 14.478 9.288 23.262 8.884 8.42-.404 16.517-4.079 22.777-10.338l24.554-24.554c-3.877 3.877-18.173 1.212-21.647-2.262L72.577 140.1c-3.291 3.291-7.41 5.29-11.63 5.492-2.868.142-6.927-.464-10.5-4.038-3.333-3.332-4.04-7.229-4.04-9.854 0-4.422 2.02-8.824 5.493-12.277l25.846-26.008c6.502-6.502 16.396-7.006 22.13-1.292 3.292 3.291 8.684 3.291 11.955 0 3.291-3.291 3.291-8.662 0-11.954-5.896-5.896-13.67-8.884-21.646-8.884z\"\n          fill=\"currentColor\"\n          stroke=\"none\"\n        />\n      </g>\n    </svg>\n  );\n}\n","import React from \"react\";\nimport LinkIcon from \"~/components/LinkIcon\";\n\nexport default function Motivation() {\n  return (\n    <section id=\"motivation\">\n      <h2>\n        <a href=\"#motivation\">\n          Motivation\n          <LinkIcon />\n        </a>\n      </h2>\n      <p>\n        Literal JSX aims to serve a similar purpose as JSON did: by subsetting\n        the syntax of JSX to its well-founded, unambiguously structured, easily\n        parseable, and non-Turing-complete core, a{\" \"}\n        <em>technically flexible and visually intuitive content format</em> is\n        obtained. On the one hand, Literal JSX is easily parseable (due to its\n        single-pass unambiguous grammar), making it a good candidate for\n        at-runtime compilation. On the other, it is an easily authored and\n        well-known syntax, mainly due to the immense popularity of React, the\n        web UI library that invented and popularized JSX.\n      </p>\n      <p>\n        Especially in the intersection of the two rising trends in web\n        development that are: (1) lightweight markup format content authoring\n        (that is, using Markdown or some other simple markup format to serve the\n        content of your site, documentation, or something else); and (2)\n        component-based UI design, which is emerging as a best-practice\n        engineering technique for complex interfaces; there is a strong need for\n        a simple standard for describing nominal and data-rich content\n        structures, as opposed to the various case-specific \"grammar-hacks\" that\n        are now commonly used for this purpose. Literal JSX aims to satisfy that\n        need. The idea of interspersing JSX in markdown is not new, and\n        libraries such as <a href=\"https://mdxjs.com/\">MDX</a> are currently\n        popularizing this idea. However MDX is a <em>library</em> dependent on a\n        full-blown JavaScript parser, thereby making it technically non-trivial\n        and dubious to compile content at runtime (e.g. in the browser). By\n        instead just outlining a narrow and unambiguous subset grammar of JSX,\n        Literal JSX defines a <em>standard</em> that is language- and\n        framework-agnostic.\n      </p>\n      <p>\n        To summarize: Literal JSX aims to privide a{\" \"}\n        <em>straightforward and intuitive standard</em> for content-authoring in\n        the component-based era.\n      </p>\n    </section>\n  );\n}\n","import \"styled-components/macro\";\nimport React, { useState } from \"react\";\nimport styles from \"./Tabbed.module.scss\";\n\nexport interface ITab {\n  title: string;\n  content: React.ReactNode;\n}\n\ninterface Props {\n  tabs: ITab[];\n}\n\nexport default function Tabbed({ tabs }: Props) {\n  const [i, set_i] = useState<number>(0);\n\n  return (\n    <div className={styles.container}>\n      <ul className={styles.nav}>\n        {tabs.map((tab, j) => (\n          <li key={j}>\n            <button\n              onClick={() => set_i(j)}\n              className={i === j ? styles.selected : \"\"}\n            >\n              {tab.title}\n            </button>\n          </li>\n        ))}\n      </ul>\n      <div className={styles.content}>{tabs[i] ? tabs[i].content : null}</div>\n    </div>\n  );\n}\n","import \"styled-components/macro\";\nimport React from \"react\";\nimport rr from \"railroad-diagrams/railroad\";\nimport \"codemirror/mode/javascript/javascript\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"codemirror/theme/material.css\";\nimport Tabbed, { ITab } from \"~/components/Tabbed\";\nimport LinkIcon from \"~/components/LinkIcon\";\n\n// @ts-ignore\nrr.Diagram.INTERNAL_ALIGNMENT = \"left\";\n\nconst JSXL_DIAGRAM_TABS: Array<ITab & { diagram: any }> = [\n  {\n    title: \"Element\",\n    diagram: rr.ComplexDiagram(\n      \"<\",\n      rr.NonTerminal(\"Name\"),\n      rr.ZeroOrMore(rr.NonTerminal(\"Attribute\")),\n      rr.Choice(\n        1,\n        rr.Sequence(\"/\", \">\"),\n        rr.Sequence(\n          \">\",\n          rr.ZeroOrMore(rr.NonTerminal(\"Child\")),\n          \"<\",\n          \"/\",\n          rr.NonTerminal(\"Name*\"),\n          \">\"\n        )\n      )\n    ),\n    note: <p>*must match the one on in the opening tag</p>\n  },\n  // {\n  //   title: \"Fragment\",\n  //   diagram: rr.ComplexDiagram(\n  //     \"<\",\n  //     \">\",\n  //     rr.ZeroOrMore(rr.NonTerminal(\"Child\")),\n  //     \"<\",\n  //     \"/\",\n  //     \">\"\n  //   )\n  // },\n  {\n    title: \"Name\",\n    diagram: rr.ComplexDiagram(\n      rr.NonTerminal(\"Identifier\"),\n      rr.Choice(\n        0,\n        rr.ZeroOrMore(rr.Sequence(\".\", rr.NonTerminal(\"Identifier\"))),\n        rr.Sequence(\":\", rr.NonTerminal(\"Identifier\"))\n      )\n    ),\n    note: (\n      <p>\n        <em>Identifier</em> is any valid variable name in JavaScript\n      </p>\n    )\n  },\n  {\n    title: \"Attribute\",\n    diagram: rr.ComplexDiagram(\n      rr.NonTerminal(\"Identifier\"),\n      rr.Choice(0, rr.Skip(), rr.Sequence(\":\", rr.NonTerminal(\"Identifier\"))),\n      rr.Optional(\n        rr.Sequence(\n          \"=\",\n          rr.Choice(\n            0,\n            rr.NonTerminal(\"String\"),\n            rr.Sequence(\"{\", rr.NonTerminal(\"Value\"), \"}\")\n          )\n        )\n      )\n    )\n  },\n  {\n    title: \"Child\",\n    diagram: rr.ComplexDiagram(\n      rr.Choice(\n        0,\n        rr.NonTerminal(\"plain text\"),\n        rr.NonTerminal(\"Element\"),\n        rr.Sequence(\"{\", rr.NonTerminal(\"Value\"), \"}\")\n      )\n    )\n  }\n].map(tab => ({\n  ...tab,\n  content: (\n    <div className=\"new\">\n      <div dangerouslySetInnerHTML={{ __html: tab.diagram }} />\n      {tab.note || null}\n    </div>\n  )\n}));\n\nconst El = rr.NonTerminal(\"Element\");\nEl.attrs.class += \" new\";\n\nconst JSON_DIAGRAM_TABS: ITab[] = [\n  {\n    title: \"Value\",\n    diagram: rr.ComplexDiagram(\n      rr.Choice(\n        0,\n        El,\n        rr.NonTerminal(\"String\"),\n        rr.NonTerminal(\"Number\"),\n        rr.NonTerminal(\"Object\"),\n        rr.NonTerminal(\"Array\"),\n        \"true\",\n        \"false\",\n        \"null\"\n      )\n    )\n  },\n  {\n    title: \"Object\",\n    diagram: rr.ComplexDiagram(\n      \"{\",\n      rr.ZeroOrMore(\n        rr.Sequence(rr.NonTerminal(\"String\"), \":\", rr.NonTerminal(\"Value\")),\n        \",\"\n      ),\n      \"}\"\n    )\n  },\n  {\n    title: \"Array\",\n    diagram: rr.ComplexDiagram(\n      \"[\",\n      rr.ZeroOrMore(rr.NonTerminal(\"Value\"), \",\"),\n      \"]\"\n    )\n  },\n  {\n    title: \"String\",\n    diagram: rr.Diagram(\n      '\"',\n      rr.Optional(\n        rr.OneOrMore(\n          rr.Choice(\n            0,\n            rr.NonTerminal(\"almost any UNICODE character\"),\n            rr.Sequence(\n              \"\\\\\",\n              rr.Choice(\n                0,\n                rr.Sequence('\"', rr.Comment(\"quotation mark\")),\n                rr.Sequence(\"\\\\\", rr.Comment(\"reverse solidus\")),\n                rr.Sequence(\"/\", rr.Comment(\"solidus\")),\n                rr.Sequence(\"b\", rr.Comment(\"backspace\")),\n                rr.Sequence(\"f\", rr.Comment(\"formfeed\")),\n                rr.Sequence(\"n\", rr.Comment(\"newline\")),\n                rr.Sequence(\"r\", rr.Comment(\"carriage return\")),\n                rr.Sequence(\"t\", rr.Comment(\"horizontal tab\")),\n                rr.Sequence(\"u\", rr.NonTerminal(\"4 hexademical digits\"))\n              )\n            )\n          )\n        )\n      ),\n      '\"'\n    )\n  },\n  {\n    title: \"Number\",\n    diagram: rr.Diagram(\n      rr.Sequence(\n        rr.Choice(0, rr.Skip(), \"-\"),\n        rr.Choice(\n          0,\n          \"0\",\n          rr.Sequence(\n            rr.NonTerminal(\"digit 1-9\"),\n            rr.OneOrMore(rr.Skip(), rr.NonTerminal(\"digit\"))\n          )\n        ),\n        rr.Optional(rr.Sequence(\".\", rr.OneOrMore(rr.NonTerminal(\"digit\")))),\n        rr.Choice(\n          0,\n          rr.Skip(),\n          rr.Sequence(\n            rr.Choice(0, \"e\", \"E\"),\n            rr.Choice(1, \"-\", rr.Skip(), \"+\"),\n            rr.OneOrMore(rr.NonTerminal(\"digit\"))\n          )\n        )\n      )\n    )\n  }\n].map(tab => ({\n  ...tab,\n  content: <div dangerouslySetInnerHTML={{ __html: tab.diagram }} />\n}));\n\nexport default function Specification() {\n  return (\n    <section id=\"specification\">\n      <h2>\n        <a href=\"#specification\">\n          Specification\n          <LinkIcon />\n        </a>\n      </h2>\n      <p>\n        Literal JSX subsets JSX in the same spirit as JSON subsets JavaScript.\n        This means some \"sugary\" JSX syntax has been intentionally omitted. For\n        example, JSX elements cannot be assigned unquoted to attributes of other\n        elements, and strings are always double-quoted, just like in JSON. Some\n        other things to note are:\n      </p>\n      <ul>\n        <li>\n          The \"root\" for the grammer is that <em className=\"nt\">Value</em>{\" \"}\n          non-terminal. That is to say, Literal JSX \"is just JSON\", but then\n          with some JSX goodness.\n        </li>\n        <li>\n          There is no \"fragment\" type (usually written as <code>&lt;&gt;</code>{\" \"}\n          ... <code>&lt;/&gt;</code>). The way that fragments are used in React\n          essentially boils down to an array, which <em>is</em> expressible in\n          Literal JSX. For example:{\" \"}\n          <code>[&lt;a /&gt;, &lt;b /&gt;, &lt;c /&gt;]</code>\n        </li>\n        <li>\n          White-space can be freely inserted between pretty much every token,\n          and does not affect semantics. However, the{\" \"}\n          <em className=\"nt\">plain text</em> non-terminal forms an exception: it\n          greedily eats and preserves white-space left and right.\n        </li>\n      </ul>\n      <Tabbed tabs={JSXL_DIAGRAM_TABS} />\n      <Tabbed tabs={JSON_DIAGRAM_TABS} />\n    </section>\n  );\n}\n","import \"styled-components/macro\";\nimport React, { useMemo } from \"react\";\nimport createPersistedState from \"use-persisted-state\";\nimport { Controlled as CodeMirror } from \"react-codemirror2\";\nimport \"codemirror/mode/jsx/jsx\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"~/assets/codemirror-theme.scss\";\n// @ts-ignore\nimport { ObjectInspector, chromeLight } from \"react-inspector\";\n// @ts-ignore\nimport LJSX from \"@literal-jsx/parser\";\nimport Tabbed from \"~/components/Tabbed\";\nimport LinkIcon from \"~/components/LinkIcon\";\n\n// @ts-ignore\nwindow.LJSX = LJSX;\n\nconst CM_OPTS = {\n  mode: \"text/jsx\",\n  theme: \"ljsx\",\n  lineNumbers: false,\n  smartIndent: true,\n  tabSize: 2,\n  indentWithTabs: false\n};\n\nconst INSPECT_THEME = {\n  ...chromeLight,\n  ...{\n    BASE_BACKGROUND_COLOR: \"transparent\",\n    TREENODE_PADDING_LEFT: 20,\n    TREENODE_FONT_SIZE: \"12px\"\n  }\n};\n\nconst usePersistedCode = createPersistedState(\"code\");\n\nconst INITIAL_CODE = `<Button.NavLike\n  name=\"Hello\"\n  something={{ \"a\": 24 }}\n  ok\n>\n \tPlain text is always a <bit:boring />\n  {[25, {}, \"hello\", <a.b.c> hi! </ a.b.c>]}\n</Button.NavLike>`;\n\nexport default function Implementation() {\n  const [code, setCode] = usePersistedCode<string>(INITIAL_CODE);\n  const parsed = useMemo(() => {\n    try {\n      return { value: LJSX.parseValue(code), ast: LJSX.parseAST(code) };\n    } catch (error) {\n      return { error };\n    }\n  }, [code]);\n\n  return (\n    <section id=\"implementation\">\n      <h2>\n        <a href=\"#implementation\">\n          Example implementation\n          <LinkIcon />\n        </a>\n      </h2>\n      <p>\n        An example parser implementation is provided in the{\" \"}\n        <a href=\"https://www.npmjs.com/package/@literal-jsx/parser\">\n          <code>@literal-jsx/parser</code>\n        </a>{\" \"}\n        npm package. It can be used as follows:\n      </p>\n      <CodeMirror\n        value={`import { parseValue, parseAST } from \"literal-jsx\";\nconst data = parseValue('<Button primary text=\"Hi\" />');`}\n        options={{ ...CM_OPTS, readOnly: \"nocursor\" }}\n        onBeforeChange={() => {}}\n      />\n      <p>\n        You can play around with the parser below. It will parse the given\n        literal JSX source code starting with the <em className=\"nt\">Value</em>{\" \"}\n        non-terminal, as per the spec. No factory function is passed, and\n        therefore the content is just transformed to a default content structure\n        detailing the Literal JSX structure.\n      </p>\n      <CodeMirror\n        className=\"editable\"\n        value={code}\n        options={CM_OPTS}\n        onBeforeChange={(editor, data, value) => {\n          setCode(value);\n        }}\n      />\n      <div>\n        <Tabbed\n          tabs={[\n            {\n              title: \"Value\",\n              content:\n                \"value\" in parsed\n                  ? inspect(parsed.value)\n                  : errorMsg(parsed.error)\n            },\n            {\n              title: \"AST\",\n              content:\n                \"ast\" in parsed ? inspect(parsed.ast) : errorMsg(parsed.error)\n            }\n          ]}\n        />\n      </div>\n    </section>\n  );\n}\n\nfunction inspect(something: any) {\n  return (\n    <div\n      css={`\n        white-space: pre;\n        margin-top: 1.4rem;\n        max-width: 100%;\n        overflow-x: auto;\n        text-align: left;\n      `}\n    >\n      <ObjectInspector theme={INSPECT_THEME} data={something} expandLevel={5} />\n    </div>\n  );\n}\n\nfunction errorMsg(error: Error) {\n  return (\n    <div\n      css={`\n        color: #ca390c;\n        font-weight: bold;\n        text-align: left;\n      `}\n    >\n      <p css=\"font-style: italic;\">That couldn't be parsed :(</p>\n      <pre css=\"font-size: 80%;\">{error.toString()}</pre>\n    </div>\n  );\n}\n","import \"styled-components/macro\";\nimport React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport \"~/assets/railroads.scss\";\nimport Motivation from \"./sections/Motivation\";\nimport Specification from \"./sections/Specification\";\n// import Examples from \"./sections/Examples\";\nimport Implementation from \"./sections/Implementation\";\n// import styles from \"./App.module.scss\";\nimport logo from \"~/assets/logo.svg\";\n\nfunction App() {\n  return (\n    <>\n      <main id=\"top\">\n        <div className=\"wrap\">\n          <div className=\"titlecontainer\">\n            <a href=\"#top\">\n              <img\n                alt=\"\"\n                src={logo}\n                css={`\n                  height: 6rem;\n                  width: auto;\n                  display: block;\n                `}\n              />\n            </a>\n            <div className=\"titleblock\">\n              <h1\n                css={`\n                  margin: 0;\n                `}\n              >\n                Introducing Literal JSX\n              </h1>\n              <p\n                className=\"lead\"\n                css={`\n                  margin: 1rem 0 0;\n                `}\n              >\n                <em>\n                  Let JSX embrace its potential as a content authoring markup\n                  format for the component-based era!\n                </em>\n              </p>\n            </div>\n          </div>\n          <p className=\"lead\">\n            <strong>Literal JSX</strong> is a lightweight format for content\n            potentially rich in data and nominal structure. It extends{\" \"}\n            <a href=\"https://json.org\">\n              <strong>JSON</strong>\n            </a>{\" \"}\n            by adding the JSX-like <em>Element</em> type as a possible value\n            type aside objects, arrays, numbers, strings, booleans, and{\" \"}\n            <code>null</code>. However, instead of the full JavaScript\n            expression syntax, only JSON data (through possibly nesting more{\" \"}\n            <em>Element</em> nodes recursively) are allowed inside of its\n            attributes (\"props\") and children.\n          </p>\n          <Motivation />\n          <Specification />\n          {/* <Examples /> */}\n          <Implementation />\n        </div>\n      </main>\n      <footer>\n        <div className=\"wrap\">\n          An idea proposed by <a href=\"https://klve.nl/\">Kelley van Evert</a>.\n          Inspired by <a href=\"https://json.org/\">JSON</a>. Also, this site and\n          the example implementation could not have been made without these\n          lovely libraries: tabatkins'{\" \"}\n          <a href=\"https://github.com/tabatkins/railroad-diagrams\">\n            <code>railroad-diagrams</code>\n          </a>\n          , Hardmath123's{\" \"}\n          <a href=\"https://nearley.js.org/\">\n            <code>nearley.js</code>\n          </a>\n          .\n        </div>\n      </footer>\n    </>\n  );\n}\n\nconst wrap =\n  process.env.NODE_ENV === \"development\" ? hot(module) : (x: any) => x;\n\nexport default wrap(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"~/assets/global.scss\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Tabbed_container__20F7-\",\"nav\":\"Tabbed_nav__1yge6\",\"selected\":\"Tabbed_selected__1ofSX\",\"content\":\"Tabbed_content__3KoXz\"};"],"sourceRoot":""}